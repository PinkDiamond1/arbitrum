<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="5450pt" height="2213pt" viewBox="0 0 5450.05 2213.4"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2209.4)"><title>UmlClassDiagram</title><polygon fill="#fff" stroke="transparent" points="-4 4 -4 -2209.4 5446.046 -2209.4 5446.046 4 -4 4"/><g id="node1" class="node"><title>0</title><polygon fill="#f2f2f2" stroke="#000" points="1118.733 -1563.3 1118.733 -1704.9 1417.389 -1704.9 1417.389 -1563.3 1118.733 -1563.3"/><text x="1268.061" y="-1688.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Interface&gt;&gt;</text><text x="1268.061" y="-1671.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">IArbToken</text><polyline fill="none" stroke="#000" points="1118.733 -1663.3 1417.389 -1663.3"/><polyline fill="none" stroke="#000" points="1118.733 -1638.5 1417.389 -1638.5"/><text x="1126.733" y="-1621.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="1126.733" y="-1605.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">bridgeMint(account: address, amount: uint256)</text><text x="1126.733" y="-1588.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">bridgeBurn(account: address, amount: uint256)</text><text x="1126.733" y="-1571.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">l1Address(): address</text></g><g id="node2" class="node"><title>1</title><polygon fill="#f2f2f2" stroke="#000" points="631.101 -786.1 631.101 -877.3 913.021 -877.3 913.021 -786.1 631.101 -786.1"/><text x="772.061" y="-860.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">StandardArbERC20</text><polyline fill="none" stroke="#000" points="631.101 -852.5 913.021 -852.5"/><polyline fill="none" stroke="#000" points="631.101 -827.7 913.021 -827.7"/><text x="639.101" y="-811.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="639.101" y="-794.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">bridgeInit(_l1Address: address, _data: bytes)</text></g><g id="edge1" class="edge"><title>1-&gt;0</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M836.0414,-877.3262C898.7579,-920.0764 998.4576,-982.8856 1093.0608,-1020.6 1159.1576,-1046.9501 1203.8532,-1001.6511 1249.0608,-1056.6 1278.4823,-1092.3612 1275.3455,-1376.9936 1271.3118,-1532.8684"/><polygon fill="none" stroke="#000" points="1260.808 -1532.849 1270.476 -1563.128 1281.8 -1533.429 1260.808 -1532.849"/></g><g id="node16" class="node"><title>15</title><polygon fill="#f2f2f2" stroke="#000" points="932.056 -1183.1 932.056 -1307.9 1240.065 -1307.9 1240.065 -1183.1 932.056 -1183.1"/><text x="1086.061" y="-1291.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Library&gt;&gt;</text><text x="1086.061" y="-1274.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">BytesParserWithDefault</text><polyline fill="none" stroke="#000" points="932.056 -1266.3 1240.065 -1266.3"/><polyline fill="none" stroke="#000" points="932.056 -1241.5 1240.065 -1241.5"/><text x="940.056" y="-1224.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="940.056" y="-1208.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">toUint8(input: bytes, defaultValue: uint8): uint8</text><text x="940.056" y="-1191.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">toString(input: bytes, defaultValue: string): string</text></g><g id="edge3" class="edge"><title>1-&gt;15</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M806.864,-877.5649C861.5453,-949.6258 967.982,-1089.8917 1032.478,-1174.8867"/><polygon fill="#000" stroke="#000" points="1029.752 -1177.085 1038.585 -1182.935 1035.329 -1172.853 1029.752 -1177.085"/></g><g id="node24" class="node"><title>23</title><polygon fill="#f2f2f2" stroke="#000" points="289.823 -1132.7 289.823 -1358.3 914.299 -1358.3 914.299 -1132.7 289.823 -1132.7"/><text x="602.061" y="-1341.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Abstract&gt;&gt;</text><text x="602.061" y="-1324.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">L2GatewayToken</text><polyline fill="none" stroke="#000" points="289.823 -1316.7 914.299 -1316.7"/><text x="297.823" y="-1300.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="297.823" y="-1283.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">l2Gateway: address</text><text x="297.823" y="-1266.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">l1Address: address</text><polyline fill="none" stroke="#000" points="289.823 -1258.3 914.299 -1258.3"/><text x="297.823" y="-1241.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="297.823" y="-1224.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">initialize(_name: string, _symbol: string, _decimals: uint8, _l2Gateway: address, _l1Counterpart: address)</text><text x="297.823" y="-1208.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="297.823" y="-1191.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">bridgeMint(account: address, amount: uint256)</text><text x="297.823" y="-1174.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">bridgeBurn(account: address, amount: uint256)</text><text x="297.823" y="-1157.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="297.823" y="-1140.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;modifier&gt;&gt; onlyGateway()</text></g><g id="edge2" class="edge"><title>1-&gt;23</title><path fill="none" stroke="#000" d="M753.2183,-877.5649C730.8413,-932.0331 692.4555,-1025.4687 659.9671,-1104.5493"/><polygon fill="none" stroke="#000" points="650.22 -1100.645 648.532 -1132.385 669.644 -1108.625 650.22 -1100.645"/></g><g id="node3" class="node"><title>2</title><polygon fill="#f2f2f2" stroke="#000" points="1102.27 -643.3 1102.27 -1020.1 2091.851 -1020.1 2091.851 -643.3 1102.27 -643.3"/><text x="1597.061" y="-1003.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Abstract&gt;&gt;</text><text x="1597.061" y="-986.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">L2ArbitrumGateway</text><polyline fill="none" stroke="#000" points="1102.27 -978.5 2091.851 -978.5"/><text x="1110.27" y="-961.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="1110.27" y="-945.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">exitNum: uint256</text><polyline fill="none" stroke="#000" points="1102.27 -936.9 2091.851 -936.9"/><text x="1110.27" y="-920.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="1110.27" y="-903.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;abstract&gt;&gt; handleNoContract(_l1Token: address, expectedL2Address: address, _from: address, _to: address, _amount: uint256, gatewayData: bytes): (shouldHalt: bool)</text><text x="1110.27" y="-886.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">isSenderCounterpartGateway(): bool</text><text x="1110.27" y="-869.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">_initialize(_l1Counterpart: address, _router: address)</text><text x="1110.27" y="-853.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">createOutboundTx(_l1Token: address, _from: address, _to: address, _amount: uint256, _extraData: bytes): uint256</text><text x="1110.27" y="-836.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">sendTxToL1(_from: address, _l1CallValue: uint256, _data: bytes): uint256</text><text x="1110.27" y="-819.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">outboundEscrowTransfer(_l2Token: address, _from: address, _amount: uint256)</text><text x="1110.27" y="-802.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">parseOutboundData(_data: bytes): (_from: address, _extraData: bytes)</text><text x="1110.27" y="-785.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">inboundEscrowTransfer(_l2Address: address, _dest: address, _amount: uint256)</text><text x="1110.27" y="-769.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">isSenderRouter(): bool</text><text x="1110.27" y="-752.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="1110.27" y="-735.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; finalizeInboundTransfer(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text><text x="1110.27" y="-718.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="1110.27" y="-701.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; outboundTransfer(_l1Token: address, _to: address, _amount: uint256, _data: bytes): bytes</text><text x="1110.27" y="-685.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; outboundTransfer(_l1Token: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): bytes</text><text x="1110.27" y="-668.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">gasReserveIfCallRevert(): uint256</text><text x="1110.27" y="-651.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">getOutboundCalldata(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): (outboundCalldata: bytes)</text></g><g id="edge6" class="edge"><title>2-&gt;0</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M1347.9834,-1020.1866C1339.4761,-1031.8781 1331.7546,-1044.0244 1325.0608,-1056.6 1313.5788,-1078.171 1286.755,-1398.8299 1274.4435,-1552.7816"/><polygon fill="#000" stroke="#000" points="1270.925 -1552.877 1273.618 -1563.124 1277.903 -1553.434 1270.925 -1552.877"/></g><g id="node26" class="node"><title>25</title><polygon fill="#f2f2f2" stroke="#000" points="1952.687 -1124.3 1952.687 -1366.7 2807.435 -1366.7 2807.435 -1124.3 1952.687 -1124.3"/><text x="2380.061" y="-1350.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Abstract&gt;&gt;</text><text x="2380.061" y="-1333.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">ArbitrumGateway</text><polyline fill="none" stroke="#000" points="1952.687 -1325.1 2807.435 -1325.1"/><polyline fill="none" stroke="#000" points="1952.687 -1300.3 2807.435 -1300.3"/><text x="1960.687" y="-1283.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="1960.687" y="-1266.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;abstract&gt;&gt; inboundEscrowTransfer(_l2Address: address, _dest: address, _amount: uint256)</text><text x="1960.687" y="-1250.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">_initialize(_counterpartGateway: address, _router: address)</text><text x="1960.687" y="-1233.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="1960.687" y="-1216.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;abstract&gt;&gt; outboundTransfer(_l1Token: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): bytes</text><text x="1960.687" y="-1199.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;abstract&gt;&gt; finalizeInboundTransfer(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text><text x="1960.687" y="-1182.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">inboundEscrowAndCall(_l2Address: address, _amount: uint256, _from: address, _to: address, _data: bytes)</text><text x="1960.687" y="-1166.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="1960.687" y="-1149.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;abstract&gt;&gt; gasReserveIfCallRevert(): uint256</text><text x="1960.687" y="-1132.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; TransferAndCallTriggered(success: bool, _from: address, _to: address, _amount: uint256, callHookData: bytes)</text></g><g id="edge5" class="edge"><title>2-&gt;25</title><path fill="none" stroke="#000" d="M1953.6195,-1020.1342C2010.987,-1050.4518 2069.3631,-1081.3024 2123.768,-1110.0543"/><polygon fill="none" stroke="#000" points="2119.126 -1119.477 2150.556 -1124.211 2128.938 -1100.911 2119.126 -1119.477"/></g><g id="node28" class="node"><title>27</title><polygon fill="#f2f2f2" stroke="#000" points="1334.194 -1166.3 1334.194 -1324.7 1859.927 -1324.7 1859.927 -1166.3 1334.194 -1166.3"/><text x="1597.061" y="-1308.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Abstract&gt;&gt;</text><text x="1597.061" y="-1291.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">L2ArbitrumMessenger</text><polyline fill="none" stroke="#000" points="1334.194 -1283.1 1859.927 -1283.1"/><text x="1342.194" y="-1266.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="1342.194" y="-1249.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">arbsysAddr: address</text><polyline fill="none" stroke="#000" points="1334.194 -1241.5 1859.927 -1241.5"/><text x="1342.194" y="-1224.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="1342.194" y="-1208.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">sendTxToL1(_l1CallValue: uint256, _from: address, _to: address, _data: bytes): uint256</text><text x="1342.194" y="-1191.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="1342.194" y="-1174.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; TxToL1(_from: address, _to: address, _id: uint256, _data: bytes)</text></g><g id="edge4" class="edge"><title>2-&gt;27</title><path fill="none" stroke="#000" d="M1597.0608,-1020.1342C1597.0608,-1059.7977 1597.0608,-1100.3735 1597.0608,-1135.9686"/><polygon fill="none" stroke="#000" points="1586.561 -1136.135 1597.061 -1166.135 1607.561 -1136.135 1586.561 -1136.135"/></g><g id="node4" class="node"><title>3</title><polygon fill="#f2f2f2" stroke="#000" points="948.575 -347.1 948.575 -555.9 1859.547 -555.9 1859.547 -347.1 948.575 -347.1"/><text x="1404.061" y="-539.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">L2CustomGateway</text><polyline fill="none" stroke="#000" points="948.575 -531.1 1859.547 -531.1"/><text x="956.575" y="-514.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="956.575" y="-497.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">l1ToL2Token: mapping(address=&gt;address)</text><polyline fill="none" stroke="#000" points="948.575 -489.5 1859.547 -489.5"/><text x="956.575" y="-472.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="956.575" y="-456.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">handleNoContract(_l1Token: address, expectedL2Address: address, _from: address, _to: address, _amount: uint256, gatewayData: bytes): (shouldHalt: bool)</text><text x="956.575" y="-439.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">_calculateL2TokenAddress(l1ERC20: address): address</text><text x="956.575" y="-422.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="956.575" y="-405.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">calculateL2TokenAddress(l1ERC20: address): address</text><text x="956.575" y="-388.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">registerTokenFromL1(l1Address: address[], l2Address: address[])</text><text x="956.575" y="-372.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="956.575" y="-355.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">initialize(_l1Counterpart: address, _router: address)</text></g><g id="edge7" class="edge"><title>3-&gt;2</title><path fill="none" stroke="#000" d="M1457.1819,-556.1459C1466.7787,-575.0509 1477.0982,-595.3798 1487.6269,-616.1208"/><polygon fill="none" stroke="#000" points="1478.347 -621.037 1501.289 -643.035 1497.073 -611.532 1478.347 -621.037"/></g><g id="node5" class="node"><title>4</title><polygon fill="#f2f2f2" stroke="#000" points="29.613 -330.3 29.613 -572.7 930.508 -572.7 930.508 -330.3 29.613 -330.3"/><text x="480.061" y="-556.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">L2ERC20Gateway</text><polyline fill="none" stroke="#000" points="29.613 -547.9 930.508 -547.9"/><text x="37.613" y="-531.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="37.613" y="-514.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">beaconProxyFactory: address</text><polyline fill="none" stroke="#000" points="29.613 -506.3 930.508 -506.3"/><text x="37.613" y="-489.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="37.613" y="-472.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">_calculateL2TokenAddress(l1ERC20: address): address</text><text x="37.613" y="-456.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">handleNoContract(l1ERC20: address, expectedL2Address: address, _from: address, _to: address, _amount: uint256, deployData: bytes): (shouldHalt: bool)</text><text x="37.613" y="-439.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="37.613" y="-422.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">postUpgradeInit(_beaconProxyFactory: address)</text><text x="37.613" y="-405.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">calculateL2TokenAddress(l1ERC20: address): address</text><text x="37.613" y="-388.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="37.613" y="-372.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">initialize(_l1Counterpart: address, _router: address, _beaconProxyFactory: address)</text><text x="37.613" y="-355.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">cloneableProxyHash(): bytes32</text><text x="37.613" y="-338.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">getUserSalt(l1ERC20: address): bytes32</text></g><g id="edge10" class="edge"><title>4-&gt;1</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M573.2543,-572.843C626.1699,-641.7421 689.7814,-724.5677 730.5531,-777.6547"/><polygon fill="#000" stroke="#000" points="728.029 -780.114 736.895 -785.913 733.58 -775.85 728.029 -780.114"/></g><g id="edge8" class="edge"><title>4-&gt;2</title><path fill="none" stroke="#000" d="M836.1735,-572.7122C911.8589,-598.4737 993.2786,-626.187 1073.7217,-653.5679"/><polygon fill="none" stroke="#000" points="1070.34 -663.509 1102.124 -663.235 1077.107 -643.629 1070.34 -663.509"/></g><g id="node19" class="node"><title>18</title><polygon fill="#f2f2f2" stroke="#000" points="0 -727.3 0 -936.1 412.122 -936.1 412.122 -727.3 0 -727.3"/><text x="206.061" y="-919.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">BeaconProxyFactory</text><polyline fill="none" stroke="#000" points="0 -911.3 412.122 -911.3"/><text x="8" y="-894.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="8" y="-877.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">cloneableProxyHash: bytes32</text><text x="8" y="-861.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">beacon: address</text><polyline fill="none" stroke="#000" points="0 -852.9 412.122 -852.9"/><text x="8" y="-836.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="8" y="-819.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">initialize(_beacon: address)</text><text x="8" y="-802.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">createProxy(userSalt: bytes32): address</text><text x="8" y="-785.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="8" y="-769.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">getSalt(user: address, userSalt: bytes32): bytes32</text><text x="8" y="-752.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">calculateExpectedAddress(user: address, userSalt: bytes32): address</text><text x="8" y="-735.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">calculateExpectedAddress(salt: bytes32): address</text></g><g id="edge9" class="edge"><title>4-&gt;18</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M392.6121,-572.843C358.8521,-619.6881 320.4525,-672.9711 287.3039,-718.9678"/><polygon fill="#000" stroke="#000" points="284.399 -717.012 281.392 -727.171 290.078 -721.105 284.399 -717.012"/></g><g id="node6" class="node"><title>5</title><polygon fill="#f2f2f2" stroke="#000" points="4069.617 -735.7 4069.617 -927.7 4682.505 -927.7 4682.505 -735.7 4069.617 -735.7"/><text x="4376.061" y="-911.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">L2GatewayRouter</text><polyline fill="none" stroke="#000" points="4069.617 -902.9 4682.505 -902.9"/><polyline fill="none" stroke="#000" points="4069.617 -878.1 4682.505 -878.1"/><text x="4077.617" y="-861.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="4077.617" y="-844.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">isSenderCounterpartGateway(): bool</text><text x="4077.617" y="-827.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="4077.617" y="-811.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">setGateway(_l1Token: address[], _gateway: address[])</text><text x="4077.617" y="-794.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">setDefaultGateway(newL2DefaultGateway: address)</text><text x="4077.617" y="-777.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="4077.617" y="-760.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; outboundTransfer(_l1Token: address, _to: address, _amount: uint256, _data: bytes): bytes</text><text x="4077.617" y="-743.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">initialize(_counterpartGateway: address, _defaultGateway: address)</text></g><g id="node29" class="node"><title>28</title><polygon fill="#f2f2f2" stroke="#000" points="3882.461 -1057.1 3882.461 -1433.9 4721.661 -1433.9 4721.661 -1057.1 3882.461 -1057.1"/><text x="4302.061" y="-1417.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Abstract&gt;&gt;</text><text x="4302.061" y="-1400.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">GatewayRouter</text><polyline fill="none" stroke="#000" points="3882.461 -1392.3 4721.661 -1392.3"/><text x="3890.461" y="-1375.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="3890.461" y="-1358.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">ZERO_ADDR: address</text><text x="3890.461" y="-1342.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">BLACKLISTED: address</text><text x="3890.461" y="-1325.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="3890.461" y="-1308.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">l1TokenToGateway: mapping(address=&gt;address)</text><text x="3890.461" y="-1291.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">defaultGateway: address</text><polyline fill="none" stroke="#000" points="3882.461 -1283.5 4721.661 -1283.5"/><text x="3890.461" y="-1266.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="3890.461" y="-1250.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">_initialize(_counterpartGateway: address, _defaultGateway: address)</text><text x="3890.461" y="-1233.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">isSenderRouter(): bool</text><text x="3890.461" y="-1216.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">_calculateL2TokenAddress(l1ERC20: address): address</text><text x="3890.461" y="-1199.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="3890.461" y="-1182.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; finalizeInboundTransfer(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text><text x="3890.461" y="-1166.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="3890.461" y="-1149.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; outboundTransfer(_token: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): bytes</text><text x="3890.461" y="-1132.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; TransferRouted(token: address, _userFrom: address, _userTo: address, gateway: address)</text><text x="3890.461" y="-1115.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; GatewaySet(l1Token: address, gateway: address)</text><text x="3890.461" y="-1098.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; DefaultGatewayUpdated(newDefaultGateway: address)</text><text x="3890.461" y="-1082.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">getOutboundCalldata(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text><text x="3890.461" y="-1065.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">getGateway(_token: address): (gateway: address)</text></g><g id="edge11" class="edge"><title>5-&gt;28</title><path fill="none" stroke="#000" d="M4358.8511,-927.9347C4353.4768,-957.9873 4347.3131,-992.4539 4341.0729,-1027.3485"/><polygon fill="none" stroke="#000" points="4330.714 -1025.628 4335.769 -1057.008 4351.386 -1029.325 4330.714 -1025.628"/></g><g id="node7" class="node"><title>6</title><polygon fill="#f2f2f2" stroke="#000" points="1877.613 -313.5 1877.613 -589.5 2778.508 -589.5 2778.508 -313.5 1877.613 -313.5"/><text x="2328.061" y="-572.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">L2WethGateway</text><polyline fill="none" stroke="#000" points="1877.613 -564.7 2778.508 -564.7"/><text x="1885.613" y="-548.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="1885.613" y="-531.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">l1Weth: address</text><text x="1885.613" y="-514.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">l2Weth: address</text><polyline fill="none" stroke="#000" points="1877.613 -506.3 2778.508 -506.3"/><text x="1885.613" y="-489.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="1885.613" y="-472.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">handleNoContract(l1ERC20: address, expectedL2Address: address, _from: address, _to: address, _amount: uint256, deployData: bytes): (shouldHalt: bool)</text><text x="1885.613" y="-456.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">_calculateL2TokenAddress(l1ERC20: address): address</text><text x="1885.613" y="-439.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">outboundEscrowTransfer(_l2TokenAddress: address, _from: address, _amount: uint256)</text><text x="1885.613" y="-422.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">inboundEscrowTransfer(_l2TokenAddress: address, _dest: address, _amount: uint256)</text><text x="1885.613" y="-405.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">createOutboundTx(_l1Token: address, _from: address, _to: address, _amount: uint256, _extraData: bytes): uint256</text><text x="1885.613" y="-388.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="1885.613" y="-372.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; null()</text><text x="1885.613" y="-355.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="1885.613" y="-338.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">initialize(_l1Counterpart: address, _router: address, _l1Weth: address, _l2Weth: address)</text><text x="1885.613" y="-321.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">gasReserveIfCallRevert(): uint256</text></g><g id="edge12" class="edge"><title>6-&gt;2</title><path fill="none" stroke="#000" d="M2062.6024,-589.5674C2037.6711,-602.5344 2012.067,-615.8514 1986.3049,-629.2505"/><polygon fill="none" stroke="#000" points="1981.193 -620.074 1959.422 -643.232 1990.883 -638.705 1981.193 -620.074"/></g><g id="node23" class="node"><title>22</title><polygon fill="#f2f2f2" stroke="#000" points="2230.632 -769.3 2230.632 -894.1 2425.49 -894.1 2425.49 -769.3 2230.632 -769.3"/><text x="2328.061" y="-877.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Interface&gt;&gt;</text><text x="2328.061" y="-860.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">IWETH9</text><polyline fill="none" stroke="#000" points="2230.632 -852.5 2425.49 -852.5"/><polyline fill="none" stroke="#000" points="2230.632 -827.7 2425.49 -827.7"/><text x="2238.632" y="-811.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="2238.632" y="-794.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">deposit()</text><text x="2238.632" y="-777.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">withdraw(_amount: uint256)</text></g><g id="edge13" class="edge"><title>6-&gt;22</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M2328.0608,-589.5674C2328.0608,-646.8585 2328.0608,-710.9807 2328.0608,-758.8392"/><polygon fill="#000" stroke="#000" points="2324.561 -759.102 2328.061 -769.102 2331.561 -759.102 2324.561 -759.102"/></g><g id="node8" class="node"><title>7</title><polygon fill="#f2f2f2" stroke="#000" points="4543.64 -59.3 4543.64 -200.9 5282.481 -200.9 5282.481 -59.3 4543.64 -59.3"/><text x="4913.061" y="-184.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Interface&gt;&gt;</text><text x="4913.061" y="-167.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">ICustomToken</text><polyline fill="none" stroke="#000" points="4543.64 -159.3 5282.481 -159.3"/><polyline fill="none" stroke="#000" points="4543.64 -134.5 5282.481 -134.5"/><text x="4551.64" y="-117.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="4551.64" y="-101.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">registerTokenOnL2(l2CustomTokenAddress: address, maxSubmissionCost: uint256, maxGas: uint256, gasPriceBid: uint256)</text><text x="4551.64" y="-84.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">transferFrom(sender: address, recipient: address, amount: uint256): bool</text><text x="4551.64" y="-67.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">balanceOf(account: address): uint256</text></g><g id="node9" class="node"><title>8</title><polygon fill="#f2f2f2" stroke="#000" points="3556.474 -777.7 3556.474 -885.7 3975.648 -885.7 3975.648 -777.7 3556.474 -777.7"/><text x="3766.061" y="-869.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Interface&gt;&gt;</text><text x="3766.061" y="-852.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">ITradeableExitReceiver</text><polyline fill="none" stroke="#000" points="3556.474 -844.1 3975.648 -844.1"/><polyline fill="none" stroke="#000" points="3556.474 -819.3 3975.648 -819.3"/><text x="3564.474" y="-802.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="3564.474" y="-785.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">onExitTransfer(sender: address, exitNum: uint256, data: bytes): bool</text></g><g id="node10" class="node"><title>9</title><polygon fill="#f2f2f2" stroke="#000" points="2833.582 -313.5 2833.582 -589.5 3512.539 -589.5 3512.539 -313.5 2833.582 -313.5"/><text x="3173.061" y="-572.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Abstract&gt;&gt;</text><text x="3173.061" y="-556.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">L1ArbitrumExtendedGateway</text><polyline fill="none" stroke="#000" points="2833.582 -547.9 3512.539 -547.9"/><text x="2841.582" y="-531.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="2841.582" y="-514.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">USED_ADDRESS: address</text><text x="2841.582" y="-497.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="2841.582" y="-480.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">redirectedExits: mapping(bytes32=&gt;address)</text><polyline fill="none" stroke="#000" points="2833.582 -472.7 3512.539 -472.7"/><text x="2841.582" y="-456.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="2841.582" y="-439.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">_initialize(_l2Counterpart: address, _router: address, _inbox: address)</text><text x="2841.582" y="-422.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">updateDestination(_exitNum: uint256, _initialDestination: address, _newDestination: address)</text><text x="2841.582" y="-405.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="2841.582" y="-388.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">transferExitAndCall(_exitNum: uint256, _initialDestination: address, _newDestination: address, _data: bytes)</text><text x="2841.582" y="-372.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="2841.582" y="-355.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; WithdrawRedirected(from: address, to: address, exitNum: uint256, data: bytes, madeExternalCall: bool)</text><text x="2841.582" y="-338.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">getCurrentDestination(_exitNum: uint256, _initialDestination: address): address</text><text x="2841.582" y="-321.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">encodeWithdrawal(_exitNum: uint256, _initialDestination: address): bytes32</text></g><g id="edge15" class="edge"><title>9-&gt;8</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M3460.467,-589.5251C3490.2942,-606.49 3519.6803,-624.377 3547.0608,-642.8 3603.4548,-680.7447 3661.445,-731.3807 3703.574,-770.6755"/><polygon fill="#000" stroke="#000" points="3701.298 -773.339 3710.987 -777.625 3706.086 -768.233 3701.298 -773.339"/></g><g id="node11" class="node"><title>10</title><polygon fill="#f2f2f2" stroke="#000" points="2443.564 -643.3 2443.564 -1020.1 3538.557 -1020.1 3538.557 -643.3 2443.564 -643.3"/><text x="2991.061" y="-1003.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Abstract&gt;&gt;</text><text x="2991.061" y="-986.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">L1ArbitrumGateway</text><polyline fill="none" stroke="#000" points="2443.564 -978.5 3538.557 -978.5"/><text x="2451.564" y="-961.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="2451.564" y="-945.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">inbox: address</text><polyline fill="none" stroke="#000" points="2443.564 -936.9 3538.557 -936.9"/><text x="2451.564" y="-920.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="2451.564" y="-903.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">isSenderCounterpartGateway(): bool</text><text x="2451.564" y="-886.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">_initialize(_l2Counterpart: address, _router: address, _inbox: address)</text><text x="2451.564" y="-869.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">inboundEscrowTransfer(_l1Token: address, _dest: address, _amount: uint256)</text><text x="2451.564" y="-853.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">createOutboundTx(_l1Token: address, _from: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _maxSubmissionCost: uint256, _extraData: bytes): uint256</text><text x="2451.564" y="-836.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">sendTxToL2(_user: address, _l2CallValue: uint256, _maxSubmissionCost: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): uint256</text><text x="2451.564" y="-819.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">outboundEscrowTransfer(_l1Token: address, _from: address, _amount: uint256)</text><text x="2451.564" y="-802.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">parseOutboundData(_data: bytes): (_from: address, _maxSubmissionCost: uint256, _extraData: bytes)</text><text x="2451.564" y="-785.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">isSenderRouter(): bool</text><text x="2451.564" y="-769.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="2451.564" y="-752.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; finalizeInboundTransfer(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text><text x="2451.564" y="-735.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; outboundTransfer(_l1Token: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): (res: bytes)</text><text x="2451.564" y="-718.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="2451.564" y="-701.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">gasReserveIfCallRevert(): uint256</text><text x="2451.564" y="-685.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">getCurrentDestination(_exitNum: uint256, _initialDestination: address): address</text><text x="2451.564" y="-668.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">parseInboundData(_data: bytes): (_exitNum: uint256, _extraData: bytes)</text><text x="2451.564" y="-651.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">getOutboundCalldata(_l1Token: address, _from: address, _to: address, _amount: uint256, _data: bytes): (outboundCalldata: bytes)</text></g><g id="edge14" class="edge"><title>9-&gt;10</title><path fill="none" stroke="#000" d="M3106.9686,-589.5674C3102.8647,-598.1405 3098.6876,-606.8665 3094.4743,-615.668"/><polygon fill="none" stroke="#000" points="3084.841 -611.474 3081.358 -643.067 3103.782 -620.542 3084.841 -611.474"/></g><g id="edge17" class="edge"><title>10-&gt;25</title><path fill="none" stroke="#000" d="M2712.8266,-1020.1342C2669.5539,-1049.4407 2625.5457,-1079.2452 2584.3121,-1107.1707"/><polygon fill="none" stroke="#000" points="2578.32 -1098.547 2559.369 -1124.064 2590.096 -1115.935 2578.32 -1098.547"/></g><g id="node27" class="node"><title>26</title><polygon fill="#f2f2f2" stroke="#000" points="2825.932 -1174.7 2825.932 -1316.3 3864.19 -1316.3 3864.19 -1174.7 2825.932 -1174.7"/><text x="3345.061" y="-1299.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Abstract&gt;&gt;</text><text x="3345.061" y="-1282.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">L1ArbitrumMessenger</text><polyline fill="none" stroke="#000" points="2825.932 -1274.7 3864.19 -1274.7"/><polyline fill="none" stroke="#000" points="2825.932 -1249.9 3864.19 -1249.9"/><text x="2833.932" y="-1233.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="2833.932" y="-1216.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">sendTxToL2(_inbox: address, _to: address, _user: address, _l2CallValue: uint256, _maxSubmissionCost: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): uint256</text><text x="2833.932" y="-1199.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="2833.932" y="-1182.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; TxToL2(_from: address, _to: address, _seqNum: uint256, _data: bytes)</text></g><g id="edge16" class="edge"><title>10-&gt;26</title><path fill="none" stroke="#000" d="M3152.2636,-1020.1342C3191.196,-1065.6434 3231.1559,-1112.3536 3264.5283,-1151.3634"/><polygon fill="none" stroke="#000" points="3256.649 -1158.305 3284.129 -1174.276 3272.606 -1144.653 3256.649 -1158.305"/></g><g id="node12" class="node"><title>11</title><polygon fill="#f2f2f2" stroke="#000" points="1678.987 -8.9 1678.987 -251.3 2607.135 -251.3 2607.135 -8.9 1678.987 -8.9"/><text x="2143.061" y="-234.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">L1CustomGateway</text><polyline fill="none" stroke="#000" points="1678.987 -226.5 2607.135 -226.5"/><text x="1686.987" y="-209.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="1686.987" y="-193.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">l1ToL2Token: mapping(address=&gt;address)</text><text x="1686.987" y="-176.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">owner: address</text><polyline fill="none" stroke="#000" points="1678.987 -168.1 2607.135 -168.1"/><text x="1686.987" y="-151.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="1686.987" y="-134.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">_calculateL2TokenAddress(l1ERC20: address): address</text><text x="1686.987" y="-117.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="1686.987" y="-101.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">calculateL2TokenAddress(l1ERC20: address): address</text><text x="1686.987" y="-84.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">registerTokenToL2(_l2Address: address, _maxGas: uint256, _gasPriceBid: uint256, _maxSubmissionCost: uint256): uint256</text><text x="1686.987" y="-67.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">forceRegisterTokenToL2(_l1Addresses: address[], _l2Addresses: address[], _maxGas: uint256, _gasPriceBid: uint256, _maxSubmissionCost: uint256): uint256</text><text x="1686.987" y="-50.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="1686.987" y="-33.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; TokenSet(l1Address: address, l2Address: address)</text><text x="1686.987" y="-17.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">initialize(_l1Counterpart: address, _l1Router: address, _inbox: address, _owner: address)</text></g><g id="edge19" class="edge"><title>11-&gt;3</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M1864.2032,-251.3785C1795.072,-281.4445 1721.4292,-313.4726 1653.7903,-342.8896"/><polygon fill="#000" stroke="#000" points="1652.062 -339.825 1644.287 -347.023 1654.853 -346.244 1652.062 -339.825"/></g><g id="edge18" class="edge"><title>11-&gt;9</title><path fill="none" stroke="#000" d="M2581.205,-251.3569C2593.2743,-254.376 2605.2441,-257.3298 2617.0608,-260.2 2692.1098,-278.4289 2713.1794,-273.7016 2787.0608,-296.2 2795.2801,-298.7029 2803.5689,-301.3085 2811.903,-304.0019"/><polygon fill="none" stroke="#000" points="2808.598 -313.968 2840.378 -313.476 2815.227 -294.042 2808.598 -313.968"/></g><g id="node13" class="node"><title>12</title><polygon fill="#f2f2f2" stroke="#000" points="3738.196 -.5 3738.196 -259.7 4525.925 -259.7 4525.925 -.5 3738.196 -.5"/><text x="4132.061" y="-243.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">L1ERC20Gateway</text><polyline fill="none" stroke="#000" points="3738.196 -234.9 4525.925 -234.9"/><text x="3746.196" y="-218.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="3746.196" y="-201.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">cloneableProxyHash: bytes32</text><text x="3746.196" y="-184.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">l2BeaconProxyFactory: address</text><polyline fill="none" stroke="#000" points="3738.196 -176.5 4525.925 -176.5"/><text x="3746.196" y="-159.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="3746.196" y="-143.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">callStatic(targetContract: address, targetFunction: bytes4): bytes</text><text x="3746.196" y="-126.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">_calculateL2TokenAddress(l1ERC20: address): address</text><text x="3746.196" y="-109.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">getSalt(l1ERC20: address): bytes32</text><text x="3746.196" y="-92.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="3746.196" y="-75.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">postUpgradeInit(_cloneableProxyHash: bytes32, _l2BeaconProxyFactory: address)</text><text x="3746.196" y="-59.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">calculateL2TokenAddress(l1ERC20: address): address</text><text x="3746.196" y="-42.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="3746.196" y="-25.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">initialize(_l2Counterpart: address, _router: address, _inbox: address, _cloneableProxyHash: bytes32, _l2BeaconProxyFactory: address)</text><text x="3746.196" y="-8.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">getOutboundCalldata(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): (outboundCalldata: bytes)</text></g><g id="edge20" class="edge"><title>12-&gt;9</title><path fill="none" stroke="#000" d="M3738.0838,-257.5243C3735.0654,-258.4224 3732.0573,-259.3144 3729.0608,-260.2 3669.9221,-277.678 3653.8347,-277.5321 3595.0608,-296.2 3577.4217,-301.8026 3559.4305,-307.6993 3541.3038,-313.7876"/><polygon fill="none" stroke="#000" points="3537.763 -303.901 3512.739 -323.498 3544.522 -323.784 3537.763 -303.901"/></g><g id="node14" class="node"><title>13</title><polygon fill="#f2f2f2" stroke="#000" points="3603.808 -296.7 3603.808 -606.3 4480.314 -606.3 4480.314 -296.7 3603.808 -296.7"/><text x="4042.061" y="-589.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">L1GatewayRouter</text><polyline fill="none" stroke="#000" points="3603.808 -581.5 4480.314 -581.5"/><text x="3611.808" y="-564.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="3611.808" y="-548.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">owner: address</text><text x="3611.808" y="-531.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">inbox: address</text><polyline fill="none" stroke="#000" points="3603.808 -523.1 4480.314 -523.1"/><text x="3611.808" y="-506.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="3611.808" y="-489.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">sendTxToL2(_user: address, _l2CallValue: uint256, _maxSubmissionCost: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): uint256</text><text x="3611.808" y="-472.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">_setGateways(_token: address[], _gateway: address[], _maxGas: uint256, _gasPriceBid: uint256, _maxSubmissionCost: uint256): uint256</text><text x="3611.808" y="-456.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">isSenderCounterpartGateway(): bool</text><text x="3611.808" y="-439.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="3611.808" y="-422.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; setDefaultGateway(newL1DefaultGateway: address, _maxGas: uint256, _gasPriceBid: uint256, _maxSubmissionCost: uint256): uint256</text><text x="3611.808" y="-405.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; setGateway(_gateway: address, _maxGas: uint256, _gasPriceBid: uint256, _maxSubmissionCost: uint256): uint256</text><text x="3611.808" y="-388.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; setGateways(_token: address[], _gateway: address[], _maxGas: uint256, _gasPriceBid: uint256, _maxSubmissionCost: uint256): uint256</text><text x="3611.808" y="-372.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">setOwner(newOwner: address)</text><text x="3611.808" y="-355.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="3611.808" y="-338.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; outboundTransfer(_token: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): bytes</text><text x="3611.808" y="-321.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;modifier&gt;&gt; onlyOwner()</text><text x="3611.808" y="-304.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">initialize(_owner: address, _defaultGateway: address, _whitelist: address, _counterpartGateway: address, _inbox: address)</text></g><g id="edge23" class="edge"><title>13-&gt;5</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M4178.1522,-606.416C4213.9599,-647.1768 4251.7321,-690.1737 4284.5702,-727.5541"/><polygon fill="#000" stroke="#000" points="4282.271 -730.24 4291.5 -735.442 4287.53 -725.62 4282.271 -730.24"/></g><g id="edge21" class="edge"><title>13-&gt;26</title><path fill="none" stroke="#000" d="M4028.6115,-606.3598C4013.9142,-772.0956 3991.5859,-1012.5279 3985.0608,-1020.6 3952.1914,-1061.2624 3922.5714,-1039.7913 3873.0608,-1056.6 3772.0703,-1090.8859 3660.8264,-1130.4191 3566.5974,-1164.4305"/><polygon fill="none" stroke="#000" points="3562.894 -1154.604 3538.253 -1174.68 3570.035 -1174.353 3562.894 -1154.604"/></g><g id="edge22" class="edge"><title>13-&gt;28</title><path fill="none" stroke="#000" d="M4034.0735,-606.5882C4029.0791,-749.3853 4028.7418,-949.504 4061.0608,-1020.6 4062.615,-1024.019 4064.2479,-1027.4104 4065.9544,-1030.7736"/><polygon fill="none" stroke="#000" points="4056.962 -1036.198 4081.023 -1056.967 4075.164 -1025.727 4056.962 -1036.198"/></g><g id="node15" class="node"><title>14</title><polygon fill="#f2f2f2" stroke="#000" points="2625.564 -.5 2625.564 -259.7 3720.557 -259.7 3720.557 -.5 2625.564 -.5"/><text x="3173.061" y="-243.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">L1WethGateway</text><polyline fill="none" stroke="#000" points="2625.564 -234.9 3720.557 -234.9"/><text x="2633.564" y="-218.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="2633.564" y="-201.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">l1Weth: address</text><text x="2633.564" y="-184.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">l2Weth: address</text><polyline fill="none" stroke="#000" points="2625.564 -176.5 3720.557 -176.5"/><text x="2633.564" y="-159.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="2633.564" y="-143.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">createOutboundTx(_l1Token: address, _from: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _maxSubmissionCost: uint256, _extraData: bytes): uint256</text><text x="2633.564" y="-126.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">outboundEscrowTransfer(_l1Token: address, _from: address, _amount: uint256)</text><text x="2633.564" y="-109.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">inboundEscrowTransfer(_l1Token: address, _dest: address, _amount: uint256)</text><text x="2633.564" y="-92.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">_calculateL2TokenAddress(l1ERC20: address): address</text><text x="2633.564" y="-75.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="2633.564" y="-59.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; null()</text><text x="2633.564" y="-42.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">calculateL2TokenAddress(l1ERC20: address): address</text><text x="2633.564" y="-25.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="2633.564" y="-8.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">initialize(_l1Counterpart: address, _l1Router: address, _inbox: address, _l1Weth: address, _l2Weth: address)</text></g><g id="edge24" class="edge"><title>14-&gt;9</title><path fill="none" stroke="#000" d="M3173.0608,-259.8993C3173.0608,-267.5976 3173.0608,-275.3942 3173.0608,-283.2149"/><polygon fill="none" stroke="#000" points="3162.561 -283.341 3173.061 -313.341 3183.561 -283.341 3162.561 -283.341"/></g><g id="edge25" class="edge"><title>14-&gt;22</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M2856.7805,-259.9584C2845.1253,-271.1 2834.4434,-283.1572 2825.0608,-296.2 2743.8464,-409.097 2886.3705,-509.4394 2787.0608,-606.8 2730.9125,-661.8463 2500.8893,-599.7963 2435.0608,-642.8 2393.7842,-669.7647 2366.7529,-718.4943 2350.1861,-759.7055"/><polygon fill="#000" stroke="#000" points="2346.862 -758.596 2346.503 -769.185 2353.387 -761.131 2346.862 -758.596"/></g><g id="node17" class="node"><title>16</title><polygon fill="#f2f2f2" stroke="#000" points="140.143 -1191.5 140.143 -1299.5 271.978 -1299.5 271.978 -1191.5 140.143 -1191.5"/><text x="206.061" y="-1282.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Interface&gt;&gt;</text><text x="206.061" y="-1266.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">ProxySetter</text><polyline fill="none" stroke="#000" points="140.143 -1257.9 271.978 -1257.9"/><polyline fill="none" stroke="#000" points="140.143 -1233.1 271.978 -1233.1"/><text x="148.143" y="-1216.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="148.143" y="-1199.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">beacon(): address</text></g><g id="node18" class="node"><title>17</title><polygon fill="#f2f2f2" stroke="#000" points="5300.075 -84.5 5300.075 -175.7 5442.046 -175.7 5442.046 -84.5 5300.075 -84.5"/><text x="5371.061" y="-159.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">ClonableBeaconProxy</text><polyline fill="none" stroke="#000" points="5300.075 -150.9 5442.046 -150.9"/><polyline fill="none" stroke="#000" points="5300.075 -126.1 5442.046 -126.1"/><text x="5308.075" y="-109.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="5308.075" y="-92.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">constructor()</text></g><g id="edge26" class="edge"><title>18-&gt;16</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M206.0608,-936.1192C206.0608,-1005.8141 206.0608,-1096.2648 206.0608,-1161.3418"/><polygon fill="none" stroke="#000" points="195.561 -1161.489 206.061 -1191.489 216.561 -1161.489 195.561 -1161.489"/></g><g id="node20" class="node"><title>19</title><polygon fill="#f2f2f2" stroke="#000" points="373.816 -1851.1 373.816 -2009.5 830.305 -2009.5 830.305 -1851.1 373.816 -1851.1"/><text x="602.061" y="-1992.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Abstract&gt;&gt;</text><text x="602.061" y="-1976.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">ERC677Token</text><polyline fill="none" stroke="#000" points="373.816 -1967.9 830.305 -1967.9"/><polyline fill="none" stroke="#000" points="373.816 -1943.1 830.305 -1943.1"/><text x="381.816" y="-1926.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Private:</text><text x="381.816" y="-1909.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">contractFallback(_to: address, _value: uint256, _data: bytes)</text><text x="381.816" y="-1892.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">isContract(_addr: address): (hasCode: bool)</text><text x="381.816" y="-1876.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="381.816" y="-1859.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">transferAndCall(_to: address, _value: uint256, _data: bytes): (success: bool)</text></g><g id="node21" class="node"><title>20</title><polygon fill="#f2f2f2" stroke="#000" points="376.7 -2063.3 376.7 -2204.9 827.421 -2204.9 827.421 -2063.3 376.7 -2063.3"/><text x="602.061" y="-2188.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Interface&gt;&gt;</text><text x="602.061" y="-2171.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">IERC677</text><polyline fill="none" stroke="#000" points="376.7 -2163.3 827.421 -2163.3"/><polyline fill="none" stroke="#000" points="376.7 -2138.5 827.421 -2138.5"/><text x="384.7" y="-2121.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="384.7" y="-2105.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">transferAndCall(to: address, value: uint256, data: bytes): (success: bool)</text><text x="384.7" y="-2088.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="384.7" y="-2071.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; Transfer(from: address, to: address, value: uint256, data: bytes)</text></g><g id="edge27" class="edge"><title>19-&gt;20</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M602.0608,-2009.678C602.0608,-2017.4037 602.0608,-2025.3113 602.0608,-2033.2107"/><polygon fill="none" stroke="#000" points="591.561 -2033.236 602.061 -2063.236 612.561 -2033.236 591.561 -2033.236"/></g><g id="node22" class="node"><title>21</title><polygon fill="#f2f2f2" stroke="#000" points="845.235 -2080.1 845.235 -2188.1 1246.887 -2188.1 1246.887 -2080.1 845.235 -2080.1"/><text x="1046.061" y="-2171.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Interface&gt;&gt;</text><text x="1046.061" y="-2154.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">IERC677Receiver</text><polyline fill="none" stroke="#000" points="845.235 -2146.5 1246.887 -2146.5"/><polyline fill="none" stroke="#000" points="845.235 -2121.7 1246.887 -2121.7"/><text x="853.235" y="-2105.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="853.235" y="-2088.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">onTokenTransfer(_sender: address, _value: uint256, _data: bytes)</text></g><g id="edge28" class="edge"><title>19-&gt;21</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M774.6762,-2009.532C822.7681,-2031.6066 874.1171,-2055.1763 919.0629,-2075.8068"/><polygon fill="#000" stroke="#000" points="917.71 -2079.037 928.258 -2080.027 920.63 -2072.675 917.71 -2079.037"/></g><g id="edge30" class="edge"><title>23-&gt;0</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M793.31,-1358.3484C835.9819,-1383.4428 881.0362,-1409.8725 923.0608,-1434.4 987.102,-1471.7775 1057.9702,-1512.849 1118.7326,-1547.975"/><polygon fill="none" stroke="#000" points="1113.76 -1557.229 1144.989 -1563.147 1124.267 -1539.046 1113.76 -1557.229"/></g><g id="node25" class="node"><title>24</title><polygon fill="#f2f2f2" stroke="#000" points="432.891 -1588.5 432.891 -1679.7 771.231 -1679.7 771.231 -1588.5 432.891 -1588.5"/><text x="602.061" y="-1663.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">aeERC20</text><polyline fill="none" stroke="#000" points="432.891 -1654.9 771.231 -1654.9"/><polyline fill="none" stroke="#000" points="432.891 -1630.1 771.231 -1630.1"/><text x="440.891" y="-1613.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="440.891" y="-1596.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">initialize(name: string, symbol: string, decimals: uint8)</text></g><g id="edge29" class="edge"><title>23-&gt;24</title><path fill="none" stroke="#000" d="M602.0608,-1358.4212C602.0608,-1422.6367 602.0608,-1501.3269 602.0608,-1558.174"/><polygon fill="none" stroke="#000" points="591.561 -1558.453 602.061 -1588.453 612.561 -1558.453 591.561 -1558.453"/></g><g id="edge31" class="edge"><title>24-&gt;19</title><path fill="none" stroke="#000" d="M602.0608,-1679.7321C602.0608,-1717.2498 602.0608,-1771.9753 602.0608,-1820.7186"/><polygon fill="none" stroke="#000" points="591.561 -1820.864 602.061 -1850.864 612.561 -1820.864 591.561 -1820.864"/></g><g id="node31" class="node"><title>30</title><polygon fill="#f2f2f2" stroke="#000" points="2921.463 -1470.9 2921.463 -1797.3 3760.659 -1797.3 3760.659 -1470.9 2921.463 -1470.9"/><text x="3341.061" y="-1780.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Abstract&gt;&gt;</text><text x="3341.061" y="-1763.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">TokenGateway</text><polyline fill="none" stroke="#000" points="2921.463 -1755.7 3760.659 -1755.7"/><text x="2929.463" y="-1739.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="2929.463" y="-1722.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">counterpartGateway: address</text><text x="2929.463" y="-1705.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">router: address</text><polyline fill="none" stroke="#000" points="2921.463 -1697.3 3760.659 -1697.3"/><text x="2929.463" y="-1680.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="2929.463" y="-1663.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;abstract&gt;&gt; _calculateL2TokenAddress(l1ERC20: address): address</text><text x="2929.463" y="-1647.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;abstract&gt;&gt; isSenderRouter(): bool</text><text x="2929.463" y="-1630.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;abstract&gt;&gt; isSenderCounterpartGateway(): bool</text><text x="2929.463" y="-1613.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">_initialize(_counterpartGateway: address, _router: address)</text><text x="2929.463" y="-1596.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="2929.463" y="-1579.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;abstract&gt;&gt; outboundTransfer(_token: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): bytes</text><text x="2929.463" y="-1563.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;abstract&gt;&gt; finalizeInboundTransfer(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text><text x="2929.463" y="-1546.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">calculateL2TokenAddress(l1ERC20: address): address</text><text x="2929.463" y="-1529.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="2929.463" y="-1512.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;abstract&gt;&gt; getOutboundCalldata(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text><text x="2929.463" y="-1495.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;modifier&gt;&gt; onlyCounterpartGateway()</text><text x="2929.463" y="-1479.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;modifier&gt;&gt; onlyRouter()</text></g><g id="edge32" class="edge"><title>25-&gt;30</title><path fill="none" stroke="#000" d="M2655.5306,-1366.7545C2708.9412,-1389.6465 2764.6107,-1413.0812 2817.0608,-1434.4 2841.8981,-1444.4953 2867.4556,-1454.7296 2893.2909,-1464.9562"/><polygon fill="none" stroke="#000" points="2889.653 -1474.808 2921.413 -1476.043 2897.355 -1455.272 2889.653 -1474.808"/></g><g id="edge33" class="edge"><title>28-&gt;30</title><path fill="none" stroke="#000" d="M3882.4194,-1430.5757C3879.2895,-1431.8583 3876.1695,-1433.1332 3873.0608,-1434.4 3845.6822,-1445.5563 3817.4233,-1456.8373 3788.8654,-1468.0608"/><polygon fill="none" stroke="#000" points="3784.939 -1458.322 3760.824 -1479.027 3792.588 -1477.879 3784.939 -1458.322"/></g><g id="node30" class="node"><title>29</title><polygon fill="#f2f2f2" stroke="#000" points="2941.511 -1834.3 2941.511 -2026.3 3740.611 -2026.3 3740.611 -1834.3 2941.511 -1834.3"/><text x="3341.061" y="-2009.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Interface&gt;&gt;</text><text x="3341.061" y="-1992.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">ITokenGateway</text><polyline fill="none" stroke="#000" points="2941.511 -1984.7 3740.611 -1984.7"/><polyline fill="none" stroke="#000" points="2941.511 -1959.9 3740.611 -1959.9"/><text x="2949.511" y="-1943.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="2949.511" y="-1926.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">outboundTransfer(_token: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): bytes</text><text x="2949.511" y="-1909.7" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">finalizeInboundTransfer(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text><text x="2949.511" y="-1892.9" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">calculateL2TokenAddress(l1ERC20: address): address</text><text x="2949.511" y="-1876.1" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="2949.511" y="-1859.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; OutboundTransferInitiated(token: address, _from: address, _to: address, _transferId: uint256, _amount: uint256, _data: bytes)</text><text x="2949.511" y="-1842.5" fill="#000" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; InboundTransferFinalized(token: address, _from: address, _to: address, _transferId: uint256, _amount: uint256, _data: bytes)</text></g><g id="edge34" class="edge"><title>30-&gt;29</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M3341.0608,-1797.3624C3341.0608,-1799.5061 3341.0608,-1801.6455 3341.0608,-1803.7788"/><polygon fill="none" stroke="#000" points="3330.561 -1803.986 3341.061 -1833.986 3351.561 -1803.986 3330.561 -1803.986"/></g></g></svg>